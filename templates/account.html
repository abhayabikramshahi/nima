{% extends "base.html" %}
{% block title %}Account | Currency Converter{% endblock %}
{% block content %}
<div class="container">
  <h1>Currency Converter</h1>
  <form id="currencyForm">
    <div class="input-group">
      <label for="amount">Amount (NPR):</label>
      <input type="number" id="amount" name="amount" required class="input-box">
    </div>
    <div class="input-group">
      <label for="currency">Convert to:</label>
      <select id="currency" name="currency" class="input-box">
        <option value="inr">Indian Rupee (INR)</option>
        <option value="usd">US Dollar (USD)</option>
      </select>
    </div>
    <button type="submit" class="button">Convert</button>
  </form>
  <div id="result" class="error-message" style="margin-top:18px;"></div>
</div>
<script>
  document.getElementById('currencyForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const amount = parseFloat(document.getElementById('amount').value);
    const currency = document.getElementById('currency').value;
    let result = '';
    if (currency === 'inr') {
      result = `${amount} NPR = ${(amount * 0.625).toFixed(2)} INR`;
    } else if (currency === 'usd') {
      result = `${amount} NPR = ${(amount * 0.0075).toFixed(2)} USD`;
    }
    document.getElementById('result').textContent = result;
  });
</script>
{% endblock %}
